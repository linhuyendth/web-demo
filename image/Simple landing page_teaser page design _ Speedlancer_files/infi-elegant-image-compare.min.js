jQuery(document).ready(function(a){function b(b){b.each(function(){var b=a(this);a(window).scrollTop()+.5*a(window).height()>b.offset().top&&b.addClass("is-visible")}),h=!1}function c(b){b.each(function(){var b=a(this);f(b.find('.elegant-image-compare-label[data-type="modified"]'),b.find(".elegant-image-compare-after-image"),"left"),f(b.find('.elegant-image-compare-label[data-type="original"]'),b.find(".elegant-image-compare-after-image"),"right")}),i=!1}function d(a,b,c,d,f){a.on("mousedown vmousedown",function(h){a.addClass("draggable"),b.addClass("resizable");var i=a.outerWidth(),j=a.offset().left-h.pageX,k=c.offset().left,l=c.outerWidth(),m=k-i/2,n=k+l-i/2;a.parents().on("mousemove vmousemove",function(a){g||(g=!0,window.requestAnimationFrame?requestAnimationFrame(function(){e(a,j,i,m,n,k,l,b,d,f)}):setTimeout(function(){e(a,j,i,m,n,k,l,b,d,f)},100))}).on("mouseup vmouseup",function(c){a.removeClass("draggable"),b.removeClass("resizable")}),h.preventDefault()}).on("mouseup vmouseup",function(c){a.removeClass("draggable"),b.removeClass("resizable")})}function e(b,c,d,e,h,i,j,k,l,m){var n=b.pageX+c-d/2;n<e?n=e:n>h&&(n=h);var o=100*(n+d/2-i)/j+"%";a(".draggable").css("left",o).on("mouseup vmouseup",function(){a(this).removeClass("draggable"),k.removeClass("resizable")}),a(".resizable").css("width",o),f(m,k,"left"),f(l,k,"right"),g=!1}function f(a,b,c){"left"==c?a.offset().left+a.outerWidth()<b.offset().left+b.outerWidth()?a.removeClass("is-hidden"):a.addClass("is-hidden"):a.offset().left>b.offset().left+b.outerWidth()?a.removeClass("is-hidden"):a.addClass("is-hidden")}var g=!1,h=!1,i=!1,j=a(".elegant-image-compare-container");b(j),a(window).on("scroll",function(){h||(h=!0,window.requestAnimationFrame?requestAnimationFrame(function(){b(j)}):setTimeout(function(){b(j)},100))}),j.each(function(){var b=a(this);d(b.find(".elegant-image-compare-handle"),b.find(".elegant-image-compare-after-image"),b,b.find('.elegant-image-compare-label[data-type="original"]'),b.find('.elegant-image-compare-label[data-type="modified"]'))}),a(window).on("resize",function(){i||(i=!0,window.requestAnimationFrame?requestAnimationFrame(function(){c(j)}):setTimeout(function(){c(j)},100))})});